@model IEnumerable<FIT5032_Assignment_New.Models.Location>

@{
    ViewBag.Title = "My Events";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="jumbotron" style="background: url('/Pictures/eventheader.jpg') no-repeat center center;">
    <div class="container"><h2 class="header">My Events</h2></div>
</div>

<div class="container">
    
    <div class="form-group"><button type="button" class="btn btn-primary" onclick="window.location.href='@Url.Action("Create", "Locations")'">Create New Event</button></div>

        
    <div class="col-md-12" id="map" style="height:300px"></div>

    <div class="col-md-12" style="background-color:#fff; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);">
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.LocationName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th style="display: none;">
                    @Html.DisplayNameFor(model => model.Latitude)
                </th>
                <th style="display: none;">
                    @Html.DisplayNameFor(model => model.Longitude)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Date)
                </th>
                <th>
                    @*@Html.DisplayNameFor(model => model.InviterId)*@
                    Initiator
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr class="coordinates">
                    <td>
                        @Html.DisplayFor(modelItem => item.LocationName)
                    </td>
                    <td class="description">
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td class="latitude" style="display: none;">
                        @Html.DisplayFor(modelItem => item.Latitude)
                    </td>
                    <td class="longitude" style="display: none;">
                        @Html.DisplayFor(modelItem => item.Longitude)
                    </td>
                    <td class="date">
                        @Html.DisplayFor(modelItem => item.Date)
                    </td>
                    <td class="name" style="word-break: break-all; word-wrap: break-word;">
                        @*@Html.DisplayFor(modelItem => item.InviterId)*@
                        @Html.Action("GetUserName", new { userId = item.InviterId })
                    </td>
                    <td>

                        @if (DateTime.Compare(item.Date, System.DateTime.Now) > 0)
                        {
                            @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                            <span>|</span>
                        }

                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>
            }


        </table>
    </div>
    </div>
    @section Scripts {
        @Scripts.Render("~/bundles/mapbox")
    }

